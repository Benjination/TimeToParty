<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Availability - Time to Party</title>
    <link rel="stylesheet" href="../../shared/css/base.css">
    <link rel="stylesheet" href="availability.css">
</head>
<body>
    <div class="container">
        <header class="page-header">
            <h1>Set Your Availability</h1>
            <div class="header-actions">
                <a href="../dashboard/dashboard.html" class="btn-secondary">Back to Tavern</a>
                <button id="logout-btn" class="btn-secondary">Leave Tavern</button>
            </div>
        </header>
        
        <div class="availability-content">
            <!-- Date Navigation -->
            <div class="date-navigation">
                <button id="prev-day" class="nav-btn">◀ Previous</button>
                <div class="current-date">
                    <h2 id="current-date-display">Loading...</h2>
                    <p id="current-day-name">Select a date</p>
                </div>
                <button id="next-day" class="nav-btn">Next ▶</button>
            </div>
            
            <!-- Legend -->
            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color available"></div>
                    <span>Preferred Time - I'd love to play!</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color unavailable"></div>
                    <span>Not Available - Can't make it</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color neutral"></div>
                    <span>No Preference - Click to set</span>
                </div>
            </div>
            
            <!-- Time Grid -->
            <div class="time-grid-container">
                <div class="time-labels">
                    <!-- Time labels will be generated by JavaScript -->
                </div>
                <div class="time-grid" id="time-grid">
                    <!-- Time slots will be generated by JavaScript -->
                </div>
            </div>
            
            <!-- Actions -->
            <div class="availability-actions">
                <button id="clear-day" class="btn-secondary">Clear This Day</button>
                <button id="save-availability" class="btn-primary">Save Availability</button>
            </div>
            
            <!-- Party Availability View -->
            <div class="party-availability-section">
                <h3>Party Availability Overview</h3>
                <div class="party-selector">
                    <label for="party-select">View party availability:</label>
                    <select id="party-select">
                        <option value="">Select a party...</option>
                    </select>
                </div>
                <div id="party-availability-grid" class="party-grid">
                    <p class="no-party-selected">Select a party to see everyone's availability</p>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="availability.js"></script>
</body>
</html>