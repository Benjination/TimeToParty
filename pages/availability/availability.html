<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Availability Scheduler - Time to Party</title>
    <link rel="stylesheet" href="../../shared/css/base.css">
    <link rel="stylesheet" href="availability.css">
</head>
<body>
    <div class="container">
        <div class="page-header">
            <h1>📅 Availability Scheduler</h1>
            <p>Set your weekly availability for D&D sessions</p>
            <button id="logout-btn" class="btn-secondary">Logout</button>
        </div>

        <div class="availability-content">
            <!-- Week Navigation -->
            <div class="week-navigation">
                <button id="prev-week" class="btn-secondary">← Previous Week</button>
                <div class="week-display">
                    <h2 id="current-week-display">Loading...</h2>
                </div>
                <button id="next-week" class="btn-secondary">Next Week →</button>
            </div>

            <!-- Legend -->
            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color available"></div>
                    <span>Available (Click to set)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color preferred"></div>
                    <span>Preferred Time (Double-click)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color unavailable"></div>
                    <span>Unavailable (Right-click)</span>
                </div>
            </div>

            <!-- Weekly Schedule Grid -->
            <div class="schedule-container">
                <div class="schedule-grid">
                    <!-- Header row with days -->
                    <div class="time-header"></div>
                    <div class="day-header">Sun</div>
                    <div class="day-header">Mon</div>
                    <div class="day-header">Tue</div>
                    <div class="day-header">Wed</div>
                    <div class="day-header">Thu</div>
                    <div class="day-header">Fri</div>
                    <div class="day-header">Sat</div>
                    
                    <!-- Time slots will be generated here -->
                    <div id="schedule-grid-content"></div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <button id="clear-week" class="btn-secondary">Clear This Week</button>
                <button id="save-availability" class="btn-primary">Save Availability</button>
            </div>

            <!-- Party Availability Overview -->
            <div class="party-overview">
                <h3>📊 Party Availability Summary</h3>
                <div id="party-availability-list">
                    <div class="loading-message">Loading party availability...</div>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="availability.js"></script>
</body>
</html>