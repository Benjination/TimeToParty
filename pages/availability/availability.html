<!DOCTYPE html>
<html lang=            <!-- Legend -->
            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color available"></div>
                    <span>Available Time (Click)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color preferred"></div>
                    <span>Preferred Time</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color unavailable"></div>
                    <span>Unavailable (Right-click for menu)</span>
                </div>
            </div>

            <!-- Context Menu -->
            <div class="context-menu" id="context-menu">
                <div class="context-menu-item" data-color="none">
                    <div class="context-menu-color clear"></div>
                    <span>Clear</span>
                </div>
                <div class="context-menu-item" data-color="available">
                    <div class="context-menu-color available"></div>
                    <span>Available</span>
                </div>
                <div class="context-menu-item" data-color="preferred">
                    <div class="context-menu-color preferred"></div>
                    <span>Preferred</span>
                </div>
                <div class="context-menu-item" data-color="unavailable">
                    <div class="context-menu-color unavailable"></div>
                    <span>Unavailable</span>
                </div>
            </div>  <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Availability Scheduler - Time to Party</title>
    <link rel="stylesheet" href="../../shared/css/base.css">
    <link rel="stylesheet" href="availability.css">
</head>
<body>
    <div class="container">
        <div class="page-header">
            <h1>📅 Availability Scheduler</h1>
            <p>Set your weekly availability for D&D sessions</p>
            <div class="header-buttons">
                <button id="back-to-tavern-btn" class="btn-primary">← Back to Tavern</button>
                <button id="logout-btn" class="btn-secondary">Logout</button>
            </div>
        </div>

        <div class="availability-content">
            <!-- Week Navigation -->
            <div class="week-navigation">
                <button id="prev-week" class="btn-secondary">← Previous Week</button>
                <div class="week-display">
                    <h2 id="current-week-display">Loading...</h2>
                </div>
                <button id="next-week" class="btn-secondary">Next Week →</button>
            </div>

            <!-- Legend -->
            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color available"></div>
                    <span>Available (Click to set)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color preferred"></div>
                    <span>Preferred Time (Double-click)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color unavailable"></div>
                    <span>Unavailable (Right-click)</span>
                </div>
            </div>

            <!-- Weekly Schedule Grid -->
            <div class="mobile-scroll-hint">
                <p>📱 <strong>Mobile Tip:</strong> Scroll horizontally to see all days of the week</p>
            </div>
            <div class="schedule-container">
                <div class="schedule-grid">
                    <!-- Header row -->
                    <div class="time-header">Time</div>
                    <div class="day-header">Sunday</div>
                    <div class="day-header">Monday</div>
                    <div class="day-header">Tuesday</div>
                    <div class="day-header">Wednesday</div>
                    <div class="day-header">Thursday</div>
                    <div class="day-header">Friday</div>
                    <div class="day-header">Saturday</div>
                    
                    <!-- Time slots will be generated here -->
                    <div id="schedule-grid-content"></div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <button id="clear-week" class="btn-secondary">Clear This Week</button>
                <button id="save-availability" class="btn-primary">Save Availability</button>
            </div>

            <!-- Party Availability Overview -->
            <div class="party-overview">
                <h3>📊 Party Availability Summary</h3>
                <div id="party-availability-list">
                    <div class="loading-message">Loading party availability...</div>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="availability.js"></script>
</body>
</html>